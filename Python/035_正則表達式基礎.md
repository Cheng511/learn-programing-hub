[ä¸Šä¸€ç« ï¼šæª”æ¡ˆè™•ç†é€²éš](034_æª”æ¡ˆè™•ç†é€²éš.md) | [ä¸‹ä¸€ç« ï¼šæ­£å‰‡è¡¨é”å¼é€²éš](036_æ­£å‰‡è¡¨é”å¼é€²éš.md)

# Python æ­£å‰‡è¡¨é”å¼åŸºç¤ ğŸ¯

## ä»€éº¼æ˜¯æ­£å‰‡è¡¨é”å¼ï¼Ÿ

æ­£å‰‡è¡¨é”å¼ï¼ˆRegular Expressionï¼Œç°¡ç¨± regexï¼‰æ˜¯ä¸€ç¨®ç”¨æ–¼åŒ¹é…å­—ç¬¦ä¸²æ¨¡å¼çš„å¼·å¤§å·¥å…·ã€‚å®ƒå¯ä»¥ï¼š
- æœå°‹æ–‡æœ¬
- é©—è­‰æ ¼å¼
- æ›¿æ›æ–‡æœ¬
- æå–è³‡è¨Š

## åŸºæœ¬èªæ³•

### 1. åŒ¹é…å­—ç¬¦

```python
import re

# åŸºæœ¬å­—ç¬¦åŒ¹é…
text = "Hello, Python!"
pattern = "Python"
result = re.search(pattern, text)
print(result.group())  # è¼¸å‡º: Python

# ä½¿ç”¨é»è™ŸåŒ¹é…ä»»æ„å­—ç¬¦
pattern = "H.llo"
result = re.search(pattern, text)
print(result.group())  # è¼¸å‡º: Hello
```

### 2. ç‰¹æ®Šå­—ç¬¦

```python
# å¸¸ç”¨ç‰¹æ®Šå­—ç¬¦
# \d - æ•¸å­—
# \w - å­—æ¯ã€æ•¸å­—ã€åº•ç·š
# \s - ç©ºç™½å­—ç¬¦
# . - ä»»æ„å­—ç¬¦ï¼ˆé™¤æ›è¡Œå¤–ï¼‰
# ^ - é–‹é ­
# $ - çµå°¾

text = "Phone: 0912-345-678"
pattern = r"\d{4}-\d{3}-\d{3}"
result = re.search(pattern, text)
print(result.group())  # è¼¸å‡º: 0912-345-678
```

### 3. å­—ç¬¦é¡

```python
# ä½¿ç”¨æ–¹æ‹¬è™Ÿå®šç¾©å­—ç¬¦é¡
text = "cat, bat, rat, mat"

# åŒ¹é… [bcr]at
pattern = "[bcr]at"
result = re.findall(pattern, text)
print(result)  # è¼¸å‡º: ['cat', 'bat', 'rat']

# ä½¿ç”¨ç¯„åœ
pattern = "[a-z]at"
result = re.findall(pattern, text)
print(result)  # è¼¸å‡º: ['cat', 'bat', 'rat', 'mat']
```

## é‡è©

### 1. åŸºæœ¬é‡è©

```python
# * - é›¶æ¬¡æˆ–å¤šæ¬¡
# + - ä¸€æ¬¡æˆ–å¤šæ¬¡
# ? - é›¶æ¬¡æˆ–ä¸€æ¬¡
# {n} - æ°å¥½ n æ¬¡
# {n,} - è‡³å°‘ n æ¬¡
# {n,m} - n åˆ° m æ¬¡

text = "color colour"

# åŒ¹é…ç¾å¼å’Œè‹±å¼æ‹¼å¯«
pattern = "colou?r"
result = re.findall(pattern, text)
print(result)  # è¼¸å‡º: ['color', 'colour']

# åŒ¹é…é›»è©±è™Ÿç¢¼
phone = "0912-345678"
pattern = r"\d{4}-\d{6}"
result = re.search(pattern, phone)
print(result.group())  # è¼¸å‡º: 0912-345678
```

### 2. è²ªå©ªèˆ‡éè²ªå©ªåŒ¹é…

```python
text = "<p>First paragraph</p><p>Second paragraph</p>"

# è²ªå©ªåŒ¹é…ï¼ˆé»˜èªï¼‰
pattern = "<p>.*</p>"
result = re.search(pattern, text)
print(result.group())  # è¼¸å‡º: <p>First paragraph</p><p>Second paragraph</p>

# éè²ªå©ªåŒ¹é…
pattern = "<p>.*?</p>"
result = re.search(pattern, text)
print(result.group())  # è¼¸å‡º: <p>First paragraph</p>
```

## åˆ†çµ„èˆ‡å¼•ç”¨

### 1. åŸºæœ¬åˆ†çµ„

```python
# ä½¿ç”¨æ‹¬è™Ÿé€²è¡Œåˆ†çµ„
text = "John Smith"
pattern = r"(\w+)\s(\w+)"
result = re.search(pattern, text)
print(result.group(1))  # è¼¸å‡º: John
print(result.group(2))  # è¼¸å‡º: Smith

# å‘½ååˆ†çµ„
pattern = r"(?P<first>\w+)\s(?P<last>\w+)"
result = re.search(pattern, text)
print(result.group('first'))  # è¼¸å‡º: John
print(result.group('last'))   # è¼¸å‡º: Smith
```

### 2. åˆ†çµ„å¼•ç”¨

```python
# ä½¿ç”¨ \1, \2 ç­‰å¼•ç”¨ä¹‹å‰çš„åˆ†çµ„
text = "hello hello world"
pattern = r"(\w+)\s\1"  # \1 å¼•ç”¨ç¬¬ä¸€å€‹åˆ†çµ„
result = re.search(pattern, text)
print(result.group())  # è¼¸å‡º: hello hello
```

## å¸¸ç”¨å‡½æ•¸

### 1. re.search() èˆ‡ re.match()

```python
text = "Hello, Python!"

# re.search() æœç´¢æ•´å€‹å­—ç¬¦ä¸²
result = re.search(r"Python", text)
print(result.group())  # è¼¸å‡º: Python

# re.match() åªåŒ¹é…é–‹é ­
result = re.match(r"Hello", text)
print(result.group())  # è¼¸å‡º: Hello

result = re.match(r"Python", text)
print(result)  # è¼¸å‡º: None
```

### 2. re.findall() èˆ‡ re.finditer()

```python
text = "The price is $10.99, $20.50 and $5.00"

# re.findall() è¿”å›æ‰€æœ‰åŒ¹é…
pattern = r"\$\d+\.\d{2}"
result = re.findall(pattern, text)
print(result)  # è¼¸å‡º: ['$10.99', '$20.50', '$5.00']

# re.finditer() è¿”å›è¿­ä»£å™¨
for match in re.finditer(pattern, text):
    print(f"Found {match.group()} at position {match.start()}-{match.end()}")
```

### 3. re.sub() æ›¿æ›

```python
text = "My phone is 0912-345-678"

# åŸºæœ¬æ›¿æ›
pattern = r"\d{4}-\d{3}-\d{3}"
result = re.sub(pattern, "XXX-XXX-XXX", text)
print(result)  # è¼¸å‡º: My phone is XXX-XXX-XXX

# ä½¿ç”¨å‡½æ•¸é€²è¡Œæ›¿æ›
def mask_phone(match):
    phone = match.group()
    return phone[:4] + "-XXX-XXX"

result = re.sub(pattern, mask_phone, text)
print(result)  # è¼¸å‡º: My phone is 0912-XXX-XXX
```

## å¸¸è¦‹æ‡‰ç”¨å ´æ™¯

### 1. é›»å­éƒµä»¶é©—è­‰

```python
def is_valid_email(email):
    pattern = r'^[\w\.-]+@[\w\.-]+\.\w+$'
    return bool(re.match(pattern, email))

# æ¸¬è©¦
emails = [
    "user@example.com",
    "invalid.email@com",
    "user.name@company.co.uk"
]

for email in emails:
    print(f"{email}: {is_valid_email(email)}")
```

### 2. URL è§£æ

```python
def parse_url(url):
    pattern = r'^(https?://)?([^/]+)(/.*)?$'
    match = re.match(pattern, url)
    if match:
        protocol = match.group(1) or 'http://'
        domain = match.group(2)
        path = match.group(3) or '/'
        return {
            'protocol': protocol,
            'domain': domain,
            'path': path
        }
    return None

# æ¸¬è©¦
url = "https://www.example.com/path/to/page"
result = parse_url(url)
print(result)
```

## ç·´ç¿’é¡Œ

1. **å¯†ç¢¼å¼·åº¦æª¢æŸ¥**
   å¯¦ç¾ä¸€å€‹å¯†ç¢¼å¼·åº¦æª¢æŸ¥å™¨ï¼š
   - è‡³å°‘8å€‹å­—ç¬¦
   - åŒ…å«å¤§å°å¯«å­—æ¯
   - åŒ…å«æ•¸å­—
   - åŒ…å«ç‰¹æ®Šå­—ç¬¦

2. **æ–‡æœ¬æ¸…ç†**
   å‰µå»ºä¸€å€‹æ–‡æœ¬æ¸…ç†å·¥å…·ï¼š
   - ç§»é™¤å¤šé¤˜ç©ºç™½
   - æ¨™æº–åŒ–æ—¥æœŸæ ¼å¼
   - ä¿®æ­£å¸¸è¦‹éŒ¯èª¤
   - æå–ç‰¹å®šè³‡è¨Š

3. **æ—¥èªŒåˆ†æ**
   é–‹ç™¼ä¸€å€‹æ—¥èªŒåˆ†æå·¥å…·ï¼š
   - æå–æ™‚é–“æˆ³
   - è­˜åˆ¥éŒ¯èª¤è¨Šæ¯
   - çµ±è¨ˆè¨ªå•IP
   - ç”Ÿæˆå ±å‘Š

## å°æé†’ ğŸ’¡

1. æ³¨æ„æ­£å‰‡è¡¨é”å¼çš„å¯è®€æ€§
2. ä½¿ç”¨åŸå§‹å­—ç¬¦ä¸² (r"pattern")
3. é©ç•¶ä½¿ç”¨è¨»é‡‹å’Œå‘½ååˆ†çµ„
4. æ³¨æ„æ€§èƒ½å½±éŸ¿
5. æ¸¬è©¦å„ç¨®é‚Šç•Œæƒ…æ³
6. è€ƒæ…®ä½¿ç”¨ re.compile() æé«˜æ•ˆç‡

[ä¸Šä¸€ç« ï¼šæª”æ¡ˆè™•ç†é€²éš](034_æª”æ¡ˆè™•ç†é€²éš.md) | [ä¸‹ä¸€ç« ï¼šæ­£å‰‡è¡¨é”å¼é€²éš](036_æ­£å‰‡è¡¨é”å¼é€²éš.md) 