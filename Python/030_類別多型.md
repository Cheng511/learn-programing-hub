[ä¸Šä¸€ç« ï¼šé¡åˆ¥ç¹¼æ‰¿](029_é¡åˆ¥ç¹¼æ‰¿.md) | [ä¸‹ä¸€ç« ï¼šç•°å¸¸è™•ç†åŸºç¤](031_ç•°å¸¸è™•ç†åŸºç¤.md)

# Python é¡åˆ¥å¤šå‹ ğŸ”„

## ä»€éº¼æ˜¯å¤šå‹ï¼Ÿ

å¤šå‹æ˜¯æŒ‡åŒä¸€å€‹ä»‹é¢å¯ä»¥æœ‰å¤šå€‹ä¸åŒçš„å¯¦ç¾æ–¹å¼ã€‚åœ¨ Python ä¸­ï¼Œå¤šå‹é€šå¸¸é€šéä»¥ä¸‹æ–¹å¼å¯¦ç¾ï¼š
- æ–¹æ³•é‡å¯«
- é´¨å­é¡å‹
- é‹ç®—å­é‡è¼‰

## æ–¹æ³•é‡å¯«èˆ‡å¤šå‹

### 1. åŸºæœ¬æ–¹æ³•é‡å¯«

```python
class Animal:
    def make_sound(self):
        return "æŸç¨®è²éŸ³"

class Dog(Animal):
    def make_sound(self):
        return "æ±ªæ±ªï¼"

class Cat(Animal):
    def make_sound(self):
        return "å–µå–µï¼"

# å¤šå‹çš„ä½¿ç”¨
def animal_sound(animal):
    print(animal.make_sound())

# ä¸åŒé¡å‹çš„å°è±¡èª¿ç”¨ç›¸åŒçš„æ–¹æ³•
dog = Dog()
cat = Cat()
animal_sound(dog)  # è¼¸å‡ºï¼šæ±ªæ±ªï¼
animal_sound(cat)  # è¼¸å‡ºï¼šå–µå–µï¼
```

### 2. æŠ½è±¡é¡åˆ¥èˆ‡å¤šå‹

```python
from abc import ABC, abstractmethod

class Shape(ABC):
    @abstractmethod
    def area(self):
        pass

class Rectangle(Shape):
    def __init__(self, width, height):
        self.width = width
        self.height = height
    
    def area(self):
        return self.width * self.height

class Circle(Shape):
    def __init__(self, radius):
        self.radius = radius
    
    def area(self):
        return 3.14 * self.radius ** 2

# ä½¿ç”¨å¤šå‹
def print_area(shape):
    print(f"é¢ç©æ˜¯ï¼š{shape.area()}")

# ä¸åŒå½¢ç‹€çš„é¢ç©è¨ˆç®—
rect = Rectangle(5, 3)
circle = Circle(2)
print_area(rect)    # é¢ç©æ˜¯ï¼š15
print_area(circle)  # é¢ç©æ˜¯ï¼š12.56
```

## é´¨å­é¡å‹

### 1. åŸºæœ¬æ¦‚å¿µ

```python
class Duck:
    def swim(self):
        return "é´¨å­æ¸¸æ³³"
    
    def fly(self):
        return "é´¨å­é£›è¡Œ"

class Airplane:
    def fly(self):
        return "é£›æ©Ÿé£›è¡Œ"

def fly_object(thing):
    print(thing.fly())

# é´¨å­é¡å‹ï¼šåªè¦å¯¦ç¾äº† fly æ–¹æ³•å°±å¯ä»¥ä½¿ç”¨
duck = Duck()
plane = Airplane()
fly_object(duck)   # é´¨å­é£›è¡Œ
fly_object(plane)  # é£›æ©Ÿé£›è¡Œ
```

### 2. å”è­°çš„å¯¦ç¾

```python
class CustomList:
    def __init__(self, items):
        self.items = items
    
    def __len__(self):
        return len(self.items)
    
    def __getitem__(self, index):
        return self.items[index]
    
    def __iter__(self):
        return iter(self.items)

# ä½¿ç”¨é¡ä¼¼åˆ—è¡¨çš„æ“ä½œ
custom_list = CustomList([1, 2, 3, 4, 5])
print(len(custom_list))        # 5
print(custom_list[2])         # 3
for item in custom_list:      # è¿­ä»£
    print(item, end=' ')
```

## é‹ç®—å­é‡è¼‰

### 1. ç®—è¡“é‹ç®—å­

```python
class Vector:
    def __init__(self, x, y):
        self.x = x
        self.y = y
    
    def __add__(self, other):
        """é‡è¼‰åŠ æ³•é‹ç®—å­"""
        return Vector(self.x + other.x, self.y + other.y)
    
    def __sub__(self, other):
        """é‡è¼‰æ¸›æ³•é‹ç®—å­"""
        return Vector(self.x - other.x, self.y - other.y)
    
    def __str__(self):
        return f"Vector({self.x}, {self.y})"

# ä½¿ç”¨é‹ç®—å­
v1 = Vector(1, 2)
v2 = Vector(3, 4)
print(v1 + v2)  # Vector(4, 6)
print(v1 - v2)  # Vector(-2, -2)
```

### 2. æ¯”è¼ƒé‹ç®—å­

```python
class Score:
    def __init__(self, value):
        self.value = value
    
    def __eq__(self, other):
        return self.value == other.value
    
    def __lt__(self, other):
        return self.value < other.value
    
    def __le__(self, other):
        return self.value <= other.value

# ä½¿ç”¨æ¯”è¼ƒé‹ç®—å­
score1 = Score(85)
score2 = Score(90)
print(score1 < score2)   # True
print(score1 == score2)  # False
```

## ç‰¹æ®Šæ–¹æ³•

### 1. å®¹å™¨é¡æ–¹æ³•

```python
class Stack:
    def __init__(self):
        self.items = []
    
    def __len__(self):
        return len(self.items)
    
    def __getitem__(self, index):
        return self.items[index]
    
    def __setitem__(self, index, value):
        self.items[index] = value
    
    def push(self, item):
        self.items.append(item)
    
    def pop(self):
        return self.items.pop()

# ä½¿ç”¨å®¹å™¨æ“ä½œ
stack = Stack()
stack.push(1)
stack.push(2)
print(len(stack))    # 2
print(stack[0])      # 1
stack[0] = 10
print(stack[0])      # 10
```

### 2. å­—ç¬¦ä¸²è¡¨ç¤º

```python
class Person:
    def __init__(self, name, age):
        self.name = name
        self.age = age
    
    def __str__(self):
        """ç”¨æˆ¶å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º"""
        return f"{self.name} ({self.age}æ­²)"
    
    def __repr__(self):
        """é–‹ç™¼è€…å‹å¥½çš„å­—ç¬¦ä¸²è¡¨ç¤º"""
        return f"Person(name='{self.name}', age={self.age})"

# å­—ç¬¦ä¸²è¡¨ç¤º
person = Person("å¼µä¸‰", 25)
print(str(person))   # å¼µä¸‰ (25æ­²)
print(repr(person))  # Person(name='å¼µä¸‰', age=25)
```

## å¯¦éš›æ‡‰ç”¨ç¯„ä¾‹

### 1. æª”æ¡ˆé¡å‹è™•ç†å™¨

```python
class FileHandler:
    @abstractmethod
    def read(self, filename):
        pass
    
    @abstractmethod
    def write(self, filename, content):
        pass

class TextFileHandler(FileHandler):
    def read(self, filename):
        with open(filename, 'r') as f:
            return f.read()
    
    def write(self, filename, content):
        with open(filename, 'w') as f:
            f.write(content)

class CSVFileHandler(FileHandler):
    def read(self, filename):
        import csv
        with open(filename, 'r') as f:
            return list(csv.reader(f))
    
    def write(self, filename, content):
        import csv
        with open(filename, 'w', newline='') as f:
            writer = csv.writer(f)
            writer.writerows(content)

# ä½¿ç”¨å¤šå‹è™•ç†ä¸åŒé¡å‹çš„æ–‡ä»¶
def process_file(handler, filename):
    return handler.read(filename)
```

### 2. æ”¯ä»˜ç³»çµ±

```python
class PaymentMethod:
    @abstractmethod
    def pay(self, amount):
        pass

class CreditCard(PaymentMethod):
    def __init__(self, card_number):
        self.card_number = card_number
    
    def pay(self, amount):
        return f"ä½¿ç”¨ä¿¡ç”¨å¡ {self.card_number} æ”¯ä»˜ {amount} å…ƒ"

class DigitalWallet(PaymentMethod):
    def __init__(self, wallet_id):
        self.wallet_id = wallet_id
    
    def pay(self, amount):
        return f"ä½¿ç”¨é›»å­éŒ¢åŒ… {self.wallet_id} æ”¯ä»˜ {amount} å…ƒ"

# çµ±ä¸€çš„æ”¯ä»˜è™•ç†
def process_payment(payment_method, amount):
    return payment_method.pay(amount)
```

## ç·´ç¿’é¡Œ

1. **å½¢ç‹€ç¹ªè£½ç³»çµ±**
   å¯¦ç¾ä¸€å€‹å½¢ç‹€ç¹ªè£½ç³»çµ±ï¼š
   - å®šç¾©æŠ½è±¡å½¢ç‹€é¡åˆ¥
   - å¯¦ç¾ä¸åŒå½¢ç‹€çš„ç¹ªè£½æ–¹æ³•
   - ä½¿ç”¨å¤šå‹è™•ç†ç¹ªè£½æ“ä½œ

2. **éŠæˆ²è§’è‰²ç³»çµ±**
   è¨­è¨ˆä¸€å€‹éŠæˆ²è§’è‰²ç³»çµ±ï¼š
   - å¯¦ç¾ä¸åŒé¡å‹çš„è§’è‰²
   - å®šç¾©å…±åŒçš„è¡Œç‚ºä»‹é¢
   - ä½¿ç”¨å¤šå‹è™•ç†è§’è‰²è¡Œç‚º

3. **æª”æ¡ˆè½‰æ›å™¨**
   é–‹ç™¼ä¸€å€‹æª”æ¡ˆè½‰æ›ç³»çµ±ï¼š
   - æ”¯æ´å¤šç¨®æª”æ¡ˆæ ¼å¼
   - å¯¦ç¾çµ±ä¸€çš„è½‰æ›ä»‹é¢
   - ä½¿ç”¨å¤šå‹è™•ç†ä¸åŒæ ¼å¼

## å°æé†’ ğŸ’¡

1. å–„ç”¨æŠ½è±¡é¡åˆ¥å®šç¾©ä»‹é¢
2. éµå¾ª SOLID åŸå‰‡
3. é¿å…éåº¦ä½¿ç”¨é‹ç®—å­é‡è¼‰
4. ä¿æŒä»‹é¢çš„ä¸€è‡´æ€§
5. é©ç•¶ä½¿ç”¨é´¨å­é¡å‹
6. æ³¨æ„æ–¹æ³•åç¨±çš„ä¸€è‡´æ€§

[ä¸Šä¸€ç« ï¼šé¡åˆ¥ç¹¼æ‰¿](029_é¡åˆ¥ç¹¼æ‰¿.md) | [ä¸‹ä¸€ç« ï¼šç•°å¸¸è™•ç†åŸºç¤](031_ç•°å¸¸è™•ç†åŸºç¤.md) 