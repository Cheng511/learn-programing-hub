# Pythonåˆ—è¡¨é€²éšæ“ä½œ ğŸš€

[ä¸Šä¸€ç« ï¼šåˆ—è¡¨åŸºç¤](016_åˆ—è¡¨åŸºç¤.md) | [ä¸‹ä¸€ç« ï¼šå…ƒçµ„åŸºç¤](018_å…ƒçµ„åŸºç¤.md)

åœ¨æŒæ¡äº†åˆ—è¡¨çš„åŸºç¤æ“ä½œå¾Œï¼Œè®“æˆ‘å€‘ä¾†å­¸ç¿’ä¸€äº›æ›´é€²éšçš„æŠ€å·§ï¼Œé€™äº›æŠ€å·§å¯ä»¥è®“æˆ‘å€‘æ›´æœ‰æ•ˆåœ°è™•ç†åˆ—è¡¨è³‡æ–™ã€‚

## åˆ—è¡¨æ¨å°å¼ (List Comprehension) ğŸ¯

```python
# åŸºæœ¬èªæ³•
# [è¡¨é”å¼ for è®Šæ•¸ in åºåˆ—]

# ç”Ÿæˆå¹³æ–¹æ•¸åˆ—è¡¨
squares = [x**2 for x in range(10)]
print(squares)  # [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]

# å¸¶æ¢ä»¶çš„åˆ—è¡¨æ¨å°å¼
even_squares = [x**2 for x in range(10) if x % 2 == 0]
print(even_squares)  # [0, 4, 16, 36, 64]

# å¤šé‡ for å¾ªç’°
matrix = [[i+j for j in range(3)] for i in range(3)]
print(matrix)  # [[0,1,2], [1,2,3], [2,3,4]]
```

## åˆ‡ç‰‡é€²éšæ“ä½œ âœ‚ï¸

```python
numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# åŸºæœ¬åˆ‡ç‰‡ï¼š[start:stop:step]
print(numbers[::2])    # [0, 2, 4, 6, 8]
print(numbers[1::2])   # [1, 3, 5, 7, 9]

# åå‘åˆ‡ç‰‡
print(numbers[::-1])   # [9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
print(numbers[::-2])   # [9, 7, 5, 3, 1]

# ä½¿ç”¨åˆ‡ç‰‡ä¿®æ”¹åˆ—è¡¨
numbers[2:5] = [20, 30, 40]
print(numbers)  # [0, 1, 20, 30, 40, 5, 6, 7, 8, 9]

# ä½¿ç”¨åˆ‡ç‰‡åˆªé™¤å…ƒç´ 
numbers[2:5] = []
print(numbers)  # [0, 1, 5, 6, 7, 8, 9]
```

## map() å’Œ filter() å‡½æ•¸ ğŸ”

```python
# map() å‡½æ•¸ï¼šå°åˆ—è¡¨ä¸­çš„æ¯å€‹å…ƒç´ æ‡‰ç”¨å‡½æ•¸
numbers = [1, 2, 3, 4, 5]
squared = list(map(lambda x: x**2, numbers))
print(squared)  # [1, 4, 9, 16, 25]

# ä½¿ç”¨è‡ªå®šç¾©å‡½æ•¸
def double(x):
    return x * 2

doubled = list(map(double, numbers))
print(doubled)  # [2, 4, 6, 8, 10]

# filter() å‡½æ•¸ï¼šéæ¿¾åˆ—è¡¨ä¸­çš„å…ƒç´ 
def is_even(x):
    return x % 2 == 0

evens = list(filter(is_even, numbers))
print(evens)  # [2, 4]

# ä½¿ç”¨ lambda å‡½æ•¸
odds = list(filter(lambda x: x % 2 != 0, numbers))
print(odds)  # [1, 3, 5]
```

## åˆ—è¡¨çš„æ·±æ·ºæ‹·è² ğŸ“

```python
import copy

# æ·ºæ‹·è²
original = [1, [2, 3], 4]
shallow_copy = original.copy()  # æˆ–ä½¿ç”¨ list(original)
shallow_copy[1][0] = 20
print(original)      # [1, [20, 3], 4]
print(shallow_copy)  # [1, [20, 3], 4]

# æ·±æ‹·è²
deep_copy = copy.deepcopy(original)
deep_copy[1][0] = 200
print(original)    # [1, [20, 3], 4]
print(deep_copy)   # [1, [200, 3], 4]
```

## é€²éšæ’åº ğŸ”„

```python
# ä½¿ç”¨ key å‡½æ•¸æ’åº
words = ['banana', 'apple', 'Cherry', 'date']

# æŒ‰ç…§å­—æ¯é †åºï¼ˆä¸å€åˆ†å¤§å°å¯«ï¼‰
sorted_words = sorted(words, key=str.lower)
print(sorted_words)  # ['apple', 'banana', 'Cherry', 'date']

# æŒ‰ç…§é•·åº¦æ’åº
sorted_by_length = sorted(words, key=len)
print(sorted_by_length)  # ['date', 'apple', 'banana', 'Cherry']

# è‡ªå®šç¾©æ’åº
students = [
    {'name': 'å°æ˜', 'score': 85},
    {'name': 'å°è¯', 'score': 92},
    {'name': 'å°ç¾', 'score': 78}
]

# æŒ‰ç…§åˆ†æ•¸æ’åº
sorted_by_score = sorted(students, key=lambda x: x['score'], reverse=True)
for student in sorted_by_score:
    print(f"{student['name']}: {student['score']}")
```

## åˆ—è¡¨çš„æ€§èƒ½å„ªåŒ– âš¡

```python
# ä½¿ç”¨ join() è€Œä¸æ˜¯ + ä¾†é€£æ¥å­—ç¬¦ä¸²
words = ['Hello', 'World', 'Python']
sentence = ' '.join(words)  # æ¯” words[0] + ' ' + words[1] + ' ' + words[2] æ›´é«˜æ•ˆ

# ä½¿ç”¨ç”Ÿæˆå™¨è¡¨é”å¼ä»£æ›¿åˆ—è¡¨æ¨å°å¼ï¼ˆç¯€çœè¨˜æ†¶é«”ï¼‰
sum_squares = sum(x**2 for x in range(1000000))  # æ¯” sum([x**2 for x in range(1000000)]) æ›´é«˜æ•ˆ

# ä½¿ç”¨ array æ¨¡çµ„è™•ç†æ•¸å€¼åˆ—è¡¨
from array import array
numbers = array('i', [1, 2, 3, 4, 5])  # æ¯”æ™®é€šåˆ—è¡¨æ›´ç¯€çœè¨˜æ†¶é«”
```

## å¯¦ç”¨ç¯„ä¾‹ ğŸ’¡

### 1. çŸ©é™£æ“ä½œ
```python
def matrix_operations():
    # å‰µå»ºçŸ©é™£
    matrix1 = [[1, 2, 3],
               [4, 5, 6],
               [7, 8, 9]]
    
    # è½‰ç½®çŸ©é™£
    transposed = [[row[i] for row in matrix1] for i in range(len(matrix1[0]))]
    
    # è¨ˆç®—å°è§’ç·šå…ƒç´ å’Œ
    diagonal_sum = sum(matrix1[i][i] for i in range(len(matrix1)))
    
    return {
        "original": matrix1,
        "transposed": transposed,
        "diagonal_sum": diagonal_sum
    }

result = matrix_operations()
print("åŸçŸ©é™£:", result["original"])
print("è½‰ç½®å¾Œ:", result["transposed"])
print("å°è§’ç·šå’Œ:", result["diagonal_sum"])
```

### 2. è³‡æ–™è™•ç†
```python
def process_sales_data(sales):
    # è¨ˆç®—æ¯å€‹ç”¢å“çš„ç¸½éŠ·å”®é¡
    product_totals = {}
    for sale in sales:
        product = sale['product']
        amount = sale['amount']
        product_totals[product] = product_totals.get(product, 0) + amount
    
    # æ‰¾å‡ºéŠ·å”®é¡æœ€é«˜çš„ç”¢å“
    best_seller = max(product_totals.items(), key=lambda x: x[1])
    
    # è¨ˆç®—å¹³å‡éŠ·å”®é¡
    average_sale = sum(product_totals.values()) / len(product_totals)
    
    return {
        "totals": product_totals,
        "best_seller": best_seller,
        "average": average_sale
    }

# æ¸¬è©¦æ•¸æ“š
sales_data = [
    {"product": "A", "amount": 100},
    {"product": "B", "amount": 150},
    {"product": "A", "amount": 200},
    {"product": "C", "amount": 50}
]

result = process_sales_data(sales_data)
print("å„ç”¢å“éŠ·å”®ç¸½é¡:", result["totals"])
print("æœ€æš¢éŠ·ç”¢å“:", result["best_seller"])
print("å¹³å‡éŠ·å”®é¡:", result["average"])
```

## ç·´ç¿’æ™‚é–“ ğŸ’ª

1. å¯¦ä½œä¸€å€‹é€²éšçš„æˆç¸¾åˆ†æç³»çµ±ï¼š
```python
def analyze_scores(students):
    # ä½¿ç”¨åˆ—è¡¨æ¨å°å¼å’Œé«˜éšå‡½æ•¸è™•ç†æ•¸æ“š
    passing_students = [s for s in students if s['score'] >= 60]
    failing_students = [s for s in students if s['score'] < 60]
    
    # è¨ˆç®—çµ±è¨ˆæ•¸æ“š
    average = sum(s['score'] for s in students) / len(students)
    highest = max(students, key=lambda s: s['score'])
    lowest = min(students, key=lambda s: s['score'])
    
    # æŒ‰æˆç¸¾åˆ†çµ„
    grades = {
        'A': len([s for s in students if s['score'] >= 90]),
        'B': len([s for s in students if 80 <= s['score'] < 90]),
        'C': len([s for s in students if 70 <= s['score'] < 80]),
        'D': len([s for s in students if 60 <= s['score'] < 70]),
        'F': len([s for s in students if s['score'] < 60])
    }
    
    return {
        "passing": passing_students,
        "failing": failing_students,
        "average": average,
        "highest": highest,
        "lowest": lowest,
        "grade_distribution": grades
    }
```

2. å¯¦ä½œä¸€å€‹æ–‡å­—è™•ç†å·¥å…·ï¼š
```python
def text_processor(text):
    # å°‡æ–‡å­—è½‰æ›ç‚ºå–®è©åˆ—è¡¨
    words = text.lower().split()
    
    # è¨ˆç®—å–®è©é »ç‡
    word_freq = {}
    for word in words:
        word_freq[word] = word_freq.get(word, 0) + 1
    
    # æ‰¾å‡ºæœ€å¸¸ç”¨çš„å–®è©
    most_common = sorted(word_freq.items(), key=lambda x: x[1], reverse=True)[:5]
    
    # è¨ˆç®—å¹³å‡å–®è©é•·åº¦
    avg_length = sum(len(word) for word in words) / len(words)
    
    # æ‰¾å‡ºæœ€é•·çš„å–®è©
    longest_words = sorted(set(words), key=len, reverse=True)[:3]
    
    return {
        "word_count": len(words),
        "unique_words": len(set(words)),
        "word_frequency": word_freq,
        "most_common": most_common,
        "average_length": avg_length,
        "longest_words": longest_words
    }
```

## å°æé†’ ğŸ’¡

- å–„ç”¨åˆ—è¡¨æ¨å°å¼ä¾†ç°¡åŒ–ç¨‹å¼ç¢¼
- æ³¨æ„æ·±æ·ºæ‹·è²çš„å€åˆ¥
- é¸æ“‡åˆé©çš„æ’åºæ–¹å¼
- è€ƒæ…®æ€§èƒ½å„ªåŒ–
- é©æ™‚ä½¿ç”¨ç”Ÿæˆå™¨è¡¨é”å¼
- å–„ç”¨å…§å»ºå‡½æ•¸å’Œæ¨¡çµ„

[ä¸Šä¸€ç« ï¼šåˆ—è¡¨åŸºç¤](016_åˆ—è¡¨åŸºç¤.md) | [ä¸‹ä¸€ç« ï¼šå…ƒçµ„åŸºç¤](018_å…ƒçµ„åŸºç¤.md)

---
ä¸‹ä¸€ç« ï¼Œæˆ‘å€‘å°‡å­¸ç¿’å…ƒçµ„(Tuple)çš„åŸºç¤çŸ¥è­˜ï¼ ğŸš€ 