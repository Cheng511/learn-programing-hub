[ä¸Šä¸€ç« ï¼šæ­£å‰‡è¡¨é”å¼é€²éš](036_æ­£å‰‡è¡¨é”å¼é€²éš.md) | [ä¸‹ä¸€ç« ï¼šJSONèˆ‡XMLè™•ç†](038_JSONèˆ‡XMLè™•ç†.md)

# Python æ—¥æœŸèˆ‡æ™‚é–“è™•ç† ğŸ“…

## åŸºæœ¬æ™‚é–“æ“ä½œ

### 1. datetime æ¨¡çµ„

```python
from datetime import datetime, date, time, timedelta

# ç²å–ç•¶å‰æ—¥æœŸå’Œæ™‚é–“
now = datetime.now()
print(f"ç¾åœ¨æ™‚é–“ï¼š{now}")

# å‰µå»ºæ—¥æœŸ
today = date.today()
print(f"ä»Šå¤©æ—¥æœŸï¼š{today}")

# å‰µå»ºæ™‚é–“
current_time = time(12, 30, 45)
print(f"æŒ‡å®šæ™‚é–“ï¼š{current_time}")

# å‰µå»ºæ—¥æœŸæ™‚é–“
dt = datetime(2023, 12, 31, 23, 59, 59)
print(f"æŒ‡å®šæ—¥æœŸæ™‚é–“ï¼š{dt}")
```

### 2. æ™‚é–“è¨ˆç®—

```python
# æ™‚é–“å·®è¨ˆç®—
now = datetime.now()
future = now + timedelta(days=7)
print(f"ä¸€é€±å¾Œï¼š{future}")

# è¨ˆç®—å…©å€‹æ—¥æœŸä¹‹é–“çš„å·®ç•°
date1 = datetime(2023, 1, 1)
date2 = datetime(2023, 12, 31)
diff = date2 - date1
print(f"ç›¸å·®å¤©æ•¸ï¼š{diff.days}")

# å¢åŠ æˆ–æ¸›å°‘æ™‚é–“
today = date.today()
yesterday = today - timedelta(days=1)
tomorrow = today + timedelta(days=1)
print(f"æ˜¨å¤©ï¼š{yesterday}")
print(f"æ˜å¤©ï¼š{tomorrow}")
```

## æ™‚é–“æ ¼å¼åŒ–

### 1. å­—ç¬¦ä¸²è½‰æ›ç‚ºæ—¥æœŸ

```python
from datetime import datetime

# è§£ææ—¥æœŸå­—ç¬¦ä¸²
date_string = "2023-12-31 23:59:59"
dt = datetime.strptime(date_string, "%Y-%m-%d %H:%M:%S")
print(f"è§£æå¾Œçš„æ—¥æœŸæ™‚é–“ï¼š{dt}")

# ä¸åŒæ ¼å¼çš„è§£æ
formats = {
    "2023/12/31": "%Y/%m/%d",
    "31-12-2023": "%d-%m-%Y",
    "Dec 31, 2023": "%b %d, %Y"
}

for date_str, fmt in formats.items():
    parsed_date = datetime.strptime(date_str, fmt)
    print(f"{date_str} -> {parsed_date}")
```

### 2. æ—¥æœŸè½‰æ›ç‚ºå­—ç¬¦ä¸²

```python
from datetime import datetime

now = datetime.now()

# ä¸åŒæ ¼å¼çš„è¼¸å‡º
formats = {
    "å®Œæ•´æ—¥æœŸæ™‚é–“": "%Y-%m-%d %H:%M:%S",
    "åƒ…æ—¥æœŸ": "%Y-%m-%d",
    "åƒ…æ™‚é–“": "%H:%M:%S",
    "å¹´æœˆ": "%Yå¹´%mæœˆ",
    "12å°æ™‚åˆ¶": "%Y-%m-%d %I:%M:%S %p"
}

for name, fmt in formats.items():
    formatted = now.strftime(fmt)
    print(f"{name}: {formatted}")
```

## æ™‚å€è™•ç†

### 1. æ™‚å€è½‰æ›

```python
from datetime import datetime
import pytz

# å‰µå»ºæ™‚å€å°è±¡
utc = pytz.UTC
taipei = pytz.timezone('Asia/Taipei')
london = pytz.timezone('Europe/London')

# ç²å–ç•¶å‰æ™‚é–“ä¸¦æŒ‡å®šæ™‚å€
now_utc = datetime.now(utc)
print(f"UTCæ™‚é–“ï¼š{now_utc}")

# è½‰æ›æ™‚å€
now_taipei = now_utc.astimezone(taipei)
now_london = now_utc.astimezone(london)

print(f"å°åŒ—æ™‚é–“ï¼š{now_taipei}")
print(f"å€«æ•¦æ™‚é–“ï¼š{now_london}")
```

### 2. è™•ç†å¤ä»¤æ™‚

```python
import pytz
from datetime import datetime

def is_dst(dt, timezone):
    """æª¢æŸ¥æŒ‡å®šæ—¥æœŸæ˜¯å¦è™•æ–¼å¤ä»¤æ™‚"""
    tz = pytz.timezone(timezone)
    return tz.localize(dt).dst() != timedelta(0)

# æª¢æŸ¥ä¸åŒæ—¥æœŸçš„å¤ä»¤æ™‚ç‹€æ…‹
dates = [
    datetime(2023, 1, 1),
    datetime(2023, 7, 1)
]

for dt in dates:
    dst_status = is_dst(dt, 'Europe/London')
    print(f"{dt.date()}: {'å¤ä»¤æ™‚' if dst_status else 'æ¨™æº–æ™‚é–“'}")
```

## æ™‚é–“æˆ³æ“ä½œ

### 1. æ™‚é–“æˆ³è½‰æ›

```python
from datetime import datetime
import time

# ç²å–ç•¶å‰æ™‚é–“æˆ³
timestamp = time.time()
print(f"ç•¶å‰æ™‚é–“æˆ³ï¼š{timestamp}")

# æ™‚é–“æˆ³è½‰æ›ç‚ºdatetime
dt = datetime.fromtimestamp(timestamp)
print(f"è½‰æ›å¾Œçš„æ—¥æœŸæ™‚é–“ï¼š{dt}")

# datetimeè½‰æ›ç‚ºæ™‚é–“æˆ³
timestamp = dt.timestamp()
print(f"è½‰æ›å›æ™‚é–“æˆ³ï¼š{timestamp}")
```

### 2. æ™‚é–“æˆ³æ ¼å¼åŒ–

```python
import time
from datetime import datetime

def format_timestamp(timestamp):
    """æ ¼å¼åŒ–æ™‚é–“æˆ³ç‚ºäººé¡å¯è®€æ ¼å¼"""
    dt = datetime.fromtimestamp(timestamp)
    return {
        'datetime': dt.strftime('%Y-%m-%d %H:%M:%S'),
        'date': dt.strftime('%Y-%m-%d'),
        'time': dt.strftime('%H:%M:%S'),
        'timestamp': timestamp
    }

# æ¸¬è©¦
current_timestamp = time.time()
formatted = format_timestamp(current_timestamp)
for key, value in formatted.items():
    print(f"{key}: {value}")
```

## æ—¥æœŸè¨ˆç®—èˆ‡æ¯”è¼ƒ

### 1. æ—¥æœŸé‹ç®—

```python
from datetime import datetime, timedelta

def date_operations():
    now = datetime.now()
    
    # è¨ˆç®—å·¥ä½œæ—¥
    weekday = now.weekday()
    days_to_weekend = 5 - weekday if weekday < 5 else (7 - weekday + 5)
    next_workday = now + timedelta(days=days_to_weekend)
    
    # è¨ˆç®—æœˆåˆå’Œæœˆæœ«
    first_day = now.replace(day=1)
    if now.month == 12:
        last_day = now.replace(year=now.year + 1, month=1, day=1) - timedelta(days=1)
    else:
        last_day = now.replace(month=now.month + 1, day=1) - timedelta(days=1)
    
    return {
        'next_workday': next_workday,
        'first_day': first_day,
        'last_day': last_day
    }

results = date_operations()
for key, value in results.items():
    print(f"{key}: {value}")
```

### 2. æ—¥æœŸæ¯”è¼ƒ

```python
from datetime import datetime, timedelta

def compare_dates(date1, date2):
    """æ¯”è¼ƒå…©å€‹æ—¥æœŸ"""
    if date1 > date2:
        return f"{date1} æ™šæ–¼ {date2}"
    elif date1 < date2:
        return f"{date1} æ—©æ–¼ {date2}"
    else:
        return f"{date1} ç­‰æ–¼ {date2}"

# æ¸¬è©¦æ—¥æœŸæ¯”è¼ƒ
now = datetime.now()
tomorrow = now + timedelta(days=1)
yesterday = now - timedelta(days=1)

print(compare_dates(now, tomorrow))
print(compare_dates(now, yesterday))
print(compare_dates(now, now))
```

## å¯¦éš›æ‡‰ç”¨ç¯„ä¾‹

### 1. æ—¥æœŸç¯„åœç”Ÿæˆå™¨

```python
from datetime import datetime, timedelta

def date_range(start_date, end_date):
    """ç”Ÿæˆæ—¥æœŸç¯„åœ"""
    for n in range(int((end_date - start_date).days) + 1):
        yield start_date + timedelta(n)

# ç”Ÿæˆä¸€é€±çš„æ—¥æœŸ
start = datetime.now()
end = start + timedelta(days=6)

for date in date_range(start, end):
    print(date.strftime("%Y-%m-%d"))
```

### 2. ç”Ÿæ—¥æé†’ç³»çµ±

```python
from datetime import datetime, timedelta

class BirthdayReminder:
    def __init__(self):
        self.birthdays = {}
    
    def add_birthday(self, name, birth_date):
        """æ·»åŠ ç”Ÿæ—¥"""
        if isinstance(birth_date, str):
            birth_date = datetime.strptime(birth_date, "%Y-%m-%d")
        self.birthdays[name] = birth_date
    
    def get_upcoming_birthdays(self, days=30):
        """ç²å–å³å°‡åˆ°ä¾†çš„ç”Ÿæ—¥"""
        today = datetime.now()
        upcoming = []
        
        for name, birth_date in self.birthdays.items():
            next_birthday = birth_date.replace(year=today.year)
            if next_birthday < today:
                next_birthday = next_birthday.replace(year=today.year + 1)
            
            days_until = (next_birthday - today).days
            if 0 <= days_until <= days:
                upcoming.append((name, next_birthday, days_until))
        
        return sorted(upcoming, key=lambda x: x[2])

# æ¸¬è©¦
reminder = BirthdayReminder()
reminder.add_birthday("Alice", "1990-06-15")
reminder.add_birthday("Bob", "1985-07-20")
reminder.add_birthday("Charlie", "1995-08-10")

upcoming = reminder.get_upcoming_birthdays()
for name, date, days in upcoming:
    print(f"{name}çš„ç”Ÿæ—¥åœ¨ {date.strftime('%Y-%m-%d')}ï¼Œé‚„æœ‰ {days} å¤©")
```

## ç·´ç¿’é¡Œ

1. **æ—¥ç¨‹è¡¨ç®¡ç†å™¨**
   å¯¦ç¾ä¸€å€‹æ—¥ç¨‹è¡¨ç®¡ç†ç³»çµ±ï¼š
   - æ·»åŠ å’Œåˆªé™¤äº‹ä»¶
   - è¨­ç½®æé†’æ™‚é–“
   - æª¢æŸ¥æ™‚é–“è¡çª
   - ç”Ÿæˆæ—¥ç¨‹å ±å‘Š

2. **å·¥ä½œæ—¥è¨ˆç®—å™¨**
   å‰µå»ºä¸€å€‹å·¥ä½œæ—¥è¨ˆç®—å·¥å…·ï¼š
   - è¨ˆç®—å·¥ä½œæ—¥æ•¸é‡
   - æ’é™¤ç¯€å‡æ—¥
   - è™•ç†ç‰¹æ®Šæƒ…æ³
   - ç”Ÿæˆå·¥ä½œæ—¥æ›†

3. **æ™‚é–“çµ±è¨ˆåˆ†æ**
   é–‹ç™¼ä¸€å€‹æ™‚é–“çµ±è¨ˆå·¥å…·ï¼š
   - è¨˜éŒ„æ™‚é–“å€é–“
   - è¨ˆç®—æŒçºŒæ™‚é–“
   - ç”Ÿæˆçµ±è¨ˆå ±å‘Š
   - è¦–è¦ºåŒ–é¡¯ç¤º

## å°æé†’ ğŸ’¡

1. æ³¨æ„æ™‚å€è½‰æ›
2. æ­£ç¢ºè™•ç†å¤ä»¤æ™‚
3. ä½¿ç”¨é©ç•¶çš„æ™‚é–“æ ¼å¼
4. è€ƒæ…®æ—¥æœŸé‚Šç•Œæƒ…æ³
5. æ³¨æ„æ™‚é–“è¨ˆç®—ç²¾åº¦
6. å–„ç”¨æ™‚é–“æˆ³é€²è¡Œæ¯”è¼ƒ

[ä¸Šä¸€ç« ï¼šæ­£å‰‡è¡¨é”å¼é€²éš](036_æ­£å‰‡è¡¨é”å¼é€²éš.md) | [ä¸‹ä¸€ç« ï¼šJSONèˆ‡XMLè™•ç†](038_JSONèˆ‡XMLè™•ç†.md) 