[ä¸Šä¸€ç« ï¼šæª”æ¡ˆè™•ç†åŸºç¤](033_æª”æ¡ˆè™•ç†åŸºç¤.md) | [ä¸‹ä¸€ç« ï¼šæ­£å‰‡è¡¨é”å¼åŸºç¤](035_æ­£å‰‡è¡¨é”å¼åŸºç¤.md)

# Python æª”æ¡ˆè™•ç†é€²éš ğŸ“‚

## é«˜ç´šæª”æ¡ˆæ“ä½œ

### 1. ç·©è¡å€æ“ä½œ

```python
# è¨­ç½®ç·©è¡å€å¤§å°
with open('large_file.txt', 'w', buffering=8192) as f:
    f.write('Some data')

# ç„¡ç·©è¡æ¨¡å¼
with open('binary_file.bin', 'wb', buffering=0) as f:
    f.write(b'Binary data')

# è¡Œç·©è¡æ¨¡å¼
with open('log.txt', 'w', buffering=1) as f:
    f.write('Log entry\n')
```

### 2. æª”æ¡ˆé–å®š

```python
import fcntl
import time

def lock_file(file):
    try:
        fcntl.flock(file.fileno(), fcntl.LOCK_EX | fcntl.LOCK_NB)
        return True
    except IOError:
        return False

with open('shared_file.txt', 'w') as f:
    if lock_file(f):
        f.write('Protected write')
        time.sleep(1)  # æ¨¡æ“¬æ“ä½œæ™‚é–“
        fcntl.flock(f.fileno(), fcntl.LOCK_UN)
```

## é«˜ç´šç›®éŒ„æ“ä½œ

### 1. éè¿´ç›®éŒ„éæ­·

```python
import os

def traverse_directory(path):
    """éè¿´éæ­·ç›®éŒ„"""
    for root, dirs, files in os.walk(path):
        level = root.replace(path, '').count(os.sep)
        indent = ' ' * 4 * level
        print(f'{indent}{os.path.basename(root)}/')
        subindent = ' ' * 4 * (level + 1)
        for f in files:
            print(f'{subindent}{f}')

# ä½¿ç”¨ç¤ºä¾‹
traverse_directory('/path/to/directory')
```

### 2. ç›®éŒ„ç›£æ§

```python
from watchdog.observers import Observer
from watchdog.events import FileSystemEventHandler
import time

class MyHandler(FileSystemEventHandler):
    def on_modified(self, event):
        if not event.is_directory:
            print(f'æª”æ¡ˆè¢«ä¿®æ”¹ï¼š{event.src_path}')
    
    def on_created(self, event):
        if not event.is_directory:
            print(f'æ–°æª”æ¡ˆå‰µå»ºï¼š{event.src_path}')

def monitor_directory(path):
    event_handler = MyHandler()
    observer = Observer()
    observer.schedule(event_handler, path, recursive=False)
    observer.start()
    try:
        while True:
            time.sleep(1)
    except KeyboardInterrupt:
        observer.stop()
    observer.join()
```

## æª”æ¡ˆç³»çµ±æ“ä½œ

### 1. ç¡¬é€£çµå’Œç¬¦è™Ÿé€£çµ

```python
import os

# å‰µå»ºç¡¬é€£çµ
os.link('source.txt', 'hardlink.txt')

# å‰µå»ºç¬¦è™Ÿé€£çµ
os.symlink('source.txt', 'symlink.txt')

# æª¢æŸ¥æ˜¯å¦ç‚ºé€£çµ
is_symlink = os.path.islink('symlink.txt')

# ç²å–é€£çµæŒ‡å‘çš„è·¯å¾‘
real_path = os.path.realpath('symlink.txt')
```

### 2. æª”æ¡ˆæ¬Šé™ç®¡ç†

```python
import os
import stat

# è¨­ç½®æª”æ¡ˆæ¬Šé™
os.chmod('file.txt', stat.S_IRUSR | stat.S_IWUSR)

# ç²å–æª”æ¡ˆæ¬Šé™
mode = os.stat('file.txt').st_mode

# æª¢æŸ¥æ¬Šé™
is_readable = bool(mode & stat.S_IRUSR)
is_writable = bool(mode & stat.S_IWUSR)
is_executable = bool(mode & stat.S_IXUSR)
```

## æª”æ¡ˆæ ¼å¼è™•ç†

### 1. CSV æª”æ¡ˆè™•ç†

```python
import csv

# å¯«å…¥ CSV
data = [
    ['Name', 'Age', 'City'],
    ['Alice', 25, 'New York'],
    ['Bob', 30, 'London']
]
with open('data.csv', 'w', newline='') as f:
    writer = csv.writer(f)
    writer.writerows(data)

# è®€å– CSV
with open('data.csv', 'r') as f:
    reader = csv.DictReader(f)
    for row in reader:
        print(f"{row['Name']} is {row['Age']} years old")
```

### 2. INI é…ç½®æª”æ¡ˆ

```python
import configparser

# å‰µå»ºé…ç½®
config = configparser.ConfigParser()
config['DEFAULT'] = {
    'ServerAliveInterval': '45',
    'Compression': 'yes'
}
config['bitbucket.org'] = {
    'User': 'hg'
}

# å¯«å…¥é…ç½®æª”æ¡ˆ
with open('config.ini', 'w') as f:
    config.write(f)

# è®€å–é…ç½®
config.read('config.ini')
interval = config['DEFAULT']['ServerAliveInterval']
```

## é«˜ç´šæª”æ¡ˆè™•ç†æŠ€å·§

### 1. è¨˜æ†¶é«”æ˜ å°„æª”æ¡ˆ

```python
import mmap

# å‰µå»ºè¨˜æ†¶é«”æ˜ å°„æª”æ¡ˆ
with open('large_file.txt', 'r+b') as f:
    mm = mmap.mmap(f.fileno(), 0)
    # è®€å–æ•¸æ“š
    print(mm[:10])
    # ä¿®æ”¹æ•¸æ“š
    mm[0:5] = b'Hello'
    # é—œé–‰æ˜ å°„
    mm.close()
```

### 2. è‡¨æ™‚æª”æ¡ˆè™•ç†

```python
import tempfile
import os

# å‰µå»ºè‡¨æ™‚æª”æ¡ˆ
with tempfile.NamedTemporaryFile(delete=False) as tmp:
    tmp.write(b'Temporary data')
    tmp_path = tmp.name

# ä½¿ç”¨è‡¨æ™‚æª”æ¡ˆ
with open(tmp_path, 'rb') as f:
    data = f.read()

# åˆªé™¤è‡¨æ™‚æª”æ¡ˆ
os.unlink(tmp_path)
```

## æª”æ¡ˆå£“ç¸®èˆ‡è§£å£“

### 1. ZIP æª”æ¡ˆè™•ç†

```python
import zipfile

# å‰µå»º ZIP æª”æ¡ˆ
with zipfile.ZipFile('archive.zip', 'w') as zf:
    zf.write('file1.txt')
    zf.write('file2.txt')

# è§£å£“ ZIP æª”æ¡ˆ
with zipfile.ZipFile('archive.zip', 'r') as zf:
    zf.extractall('extracted_files')
```

### 2. TAR æª”æ¡ˆè™•ç†

```python
import tarfile

# å‰µå»º TAR æª”æ¡ˆ
with tarfile.open('archive.tar.gz', 'w:gz') as tar:
    tar.add('file1.txt')
    tar.add('file2.txt')

# è§£å£“ TAR æª”æ¡ˆ
with tarfile.open('archive.tar.gz', 'r:gz') as tar:
    tar.extractall('extracted_files')
```

## ç·´ç¿’é¡Œ

1. **æª”æ¡ˆåŒæ­¥å·¥å…·**
   å¯¦ç¾ä¸€å€‹ç›®éŒ„åŒæ­¥å·¥å…·ï¼š
   - ç›£æ§æºç›®éŒ„è®ŠåŒ–
   - è‡ªå‹•åŒæ­¥åˆ°ç›®æ¨™ç›®éŒ„
   - è™•ç†æª”æ¡ˆè¡çª
   - æ”¯æ´éæ¿¾è¦å‰‡

2. **æª”æ¡ˆåŠ å¯†å·¥å…·**
   é–‹ç™¼ä¸€å€‹æª”æ¡ˆåŠ å¯†å·¥å…·ï¼š
   - æ”¯æ´å¤šç¨®åŠ å¯†ç®—æ³•
   - æª”æ¡ˆå®Œæ•´æ€§é©—è­‰
   - æ‰¹é‡è™•ç†åŠŸèƒ½
   - å¯†é‘°ç®¡ç†

3. **æ—¥èªŒè¼ªè½‰ç³»çµ±**
   å‰µå»ºä¸€å€‹æ—¥èªŒè¼ªè½‰ç³»çµ±ï¼š
   - è‡ªå‹•åˆ†å‰²å¤§æª”æ¡ˆ
   - æª”æ¡ˆå‘½åè¦å‰‡
   - èˆŠæª”æ¡ˆæ¸…ç†
   - å£“ç¸®æ­¸æª”

## å°æé†’ ğŸ’¡

1. æ³¨æ„æª”æ¡ˆé–å®šçš„å¹³å°ç›¸å®¹æ€§
2. æ­£ç¢ºè™•ç†å¤§æª”æ¡ˆ
3. ä½¿ç”¨é©ç•¶çš„ç·©è¡å€å¤§å°
4. æ³¨æ„æª”æ¡ˆæ¬Šé™å®‰å…¨
5. é©ç•¶è™•ç†è‡¨æ™‚æª”æ¡ˆ
6. è€ƒæ…®ä½¿ç”¨è¨˜æ†¶é«”æ˜ å°„å„ªåŒ–æ€§èƒ½

[ä¸Šä¸€ç« ï¼šæª”æ¡ˆè™•ç†åŸºç¤](033_æª”æ¡ˆè™•ç†åŸºç¤.md) | [ä¸‹ä¸€ç« ï¼šæ­£å‰‡è¡¨é”å¼åŸºç¤](035_æ­£å‰‡è¡¨é”å¼åŸºç¤.md) 